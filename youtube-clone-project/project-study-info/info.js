/*
// ------------------------------- Youtube-clone-project -------------------------------


// ------------------------------- #1 INTRODUCTION -------------------------------

// ** NodeJS: ë¸Œë¼ìš°ì € ë°–ì—ì„œ ëŒì•„ê°€ëŠ”(ì“¸ ìˆ˜ ìˆëŠ”) ìë°”ìŠ¤í¬ë¦½íŠ¸
// 90ë…„ëŒ€ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¸Œë¼ìš°ì €ì—ì„œë§Œ ì‚¬ìš©ëì—ˆëŠ”ë° ì›¹ì‚¬ì´íŠ¸ì™€ ì¢€ ë” ìƒí˜¸ì‘ìš© í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì—ˆìŒ. Ryan Dahlì€ NodeJSë¥¼ ë§Œë“¤ì–´ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì›¹ ë§ê³ ë„ ë‹¤ë¥¸ ê³³ì—ì„œë„ ì‚¬ìš©í•˜ê³ ì í•˜ì˜€ê³  êµ¬ê¸€ í¬ë¡¬ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ êº¼ë‚´ì„œ NodeJSë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëŒ. ì „ì—ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì™€ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ê¹€ì¹˜ì „ì²˜ëŸ¼ HTML, CSS, ë¸Œë¼ìš°ì €ì™€ ì„ì—¬ì„œ ë§Œë“¤ì—ˆëŠ”ë° ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¸Œë¼ìš°ì €ì—ì„œ ë¶„ë¦¬í•´ì„œ NodeJSë¥¼ ë§Œë“¬. NodeJSë¥¼ ë§Œë“¤ê³  ë‚œ í›„, ë¸Œë¼ìš°ì €ì—ì„œ Python, Java, Cì²˜ëŸ¼ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡œ ë§Œë“œë‹ˆê¹ ë°±ì—”ë“œë¥¼ ë§Œë“¤ ìˆ˜ ìˆê³ , íŒŒì¼ ì´ë¦„ì„ ë°”ê¿”ì„œ ìŠ¤í¬ë¦½íŠ¸ë„ ë§Œë“¤ ìˆ˜ ìˆê³ , ì´ë¯¸ì§€ ì²˜ë¦¬ ë“±ì„ í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆê³  ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë“¤ì²˜ëŸ¼ ì“¸ ìˆ˜ ìˆê²Œ ëŒ. NodeJSëŠ” ë¸Œë¼ìš°ì € ë°”ê¹¥ì—ì„œ ì“¸ ìˆ˜ ìˆëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì´ë‹¤. VSCodeì—ì„œ node ëª…ë ¹ì–´ë¥¼ ì¹˜ë©´ console.log("hi') ì²˜ëŸ¼ ë‹¤ì–‘í•œ ëª…ë ¹ì–´ë¥¼ êµ¬ê¸€ í¬ë¡¬ ì½˜ì†”ì—ì„œ ì‚¬ìš©í•˜ë“¯ì´ ê°€ëŠ¥í•˜ë‹¤. NodeJS ë•ë¶„ì— React Reactiveë„ ì‚¬ìš©í•˜ê³  Electronë„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëŒ. -> chromiumê³¼ NodeJS ë•ë¶„ì´ë‹¤. VSCodeëŠ” HTML, CSS, Javascript, Electronë“±ìœ¼ë¡œ ë§Œë“¤ì–´ì§. React Nativeë¡œëŠ” JSì™€ ReactJSë¥¼ ì‚¬ìš©í•´ì„œ ì•ˆë“œë¡œì´ë“œ, iOS ì•±ì„ ë§Œë“¤ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. NodeJS ë•ë¶„ì— ReactJS ê°™ì€ ê²ƒë„ ì“¸ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. NodeJSê°€ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì»´íŒŒì¼ í•´ì£¼ê¸° ë•Œë¬¸ì´ë‹¤.


// NPM
// npm ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ ìœ„í•œ íŒ¨í‚¤ì§€ ê´€ë¦¬ìì´ë‹¤.
// ìë°”ìŠ¤í¬ë¦½íŠ¸ ëŸ°íƒ€ì„ í™˜ê²½ Node.jsì˜ ê¸°ë³¸ íŒ¨í‚¤ì§€ ê´€ë¦¬ìì´ë‹¤.
// https://www.npmjs.com/

// node -v: node ë²„ì „ í™•ì¸
// npm - v: npm ë²„ì „ í™•ì¸

// ------------------------------- //#1 INTRODUCTION -------------------------------


// ------------------------------- #2 SET UP -------------------------------

// # 2.0
// í”„ë¡œì íŠ¸ í´ë”ì— package.json íŒŒì¼ì„ ìƒì„±í•´ì„œ ì‹œì‘í•œë‹¤.
// jsonì€ íŒŒì¼ì— ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹ ì¤‘ í•˜ë‚˜ì´ë‹¤.
// ì‘ì„±ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
// {
// "ì´ë¦„" : "ë‚´ìš©"
// }
// Jsonì€ í‚¤ê°’ì„ í•­ìƒ ê°€ì§€ëŠ” ê²ƒì´ í•´ì‹œì™€ ë¹„ìŠ·í•´ ë³´ì¸ë‹¤.
// ë‹¤ìŒì€ git init ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•œë‹¤.
// githubì—ì„œ ìƒˆ repositoryë¥¼ ë§Œë“  í›„ ê²½ë¡œë¥¼ ë³µì‚¬í•œë’¤ í„°ë¯¸ë„ì— git remote and origin 'ê²½ë¡œ' ë¥¼ ì…ë ¥í•œë‹¤.
// ì´ì œ gitê³¼ ì—°ê²°ë  ê²ƒì´ê³ , gitì€ íŒŒì¼ì˜ ë³€í™”ë¥¼ ê°ì§€í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì˜ë¯¸í•œë‹¤.
// ì´í›„ npm initì„ í„°ë¯¸ë„ì— ì…ë ¥í•œë‹¤.
// npm initì€ package.jsonì˜ ì‘ì„±ì„ ë„ì™€ì¤€ë‹¤.
// mainì€ í”„ë¡œì íŠ¸ì˜ ëŒ€í‘œíŒŒì¼ì„ ì˜ë¯¸í•œë‹¤.

// # 2.1 Installing Express
// (1) node jsíŒŒì¼ëª… --> ì´ ë°©ë²•ìœ¼ë¡œë„ jsíŒŒì¼ì„ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤
// (2) ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” package.jsonìœ¼ë¡œ ì‹¤í–‰ í•´ ì¤„ê²ƒì´ë‹¤
// (3) package.json ì•ˆì— main --> ë‚´ê°€ ë§Œë“¤ê³  ë°°í¬í•œ packageë¥¼ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ì„¤ì¹˜í•˜ë©´ mainì„ ì‚¬ìš©í•œë‹¤(ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” í•„ìš”ì—†ìŒ)
// (4) package.json ì•ˆì— scriptsë¥¼ ë§Œë“¤ì–´ ì¤€ë‹¤
// (5) scripts ëŠ” ì‹¤í–‰í•˜ê³  ì‹¶ì„ ê²ƒì„ ë§í•œë‹¤ ì¦‰, scriptsì•ˆì— ì‹¤í–‰í•  ê²ƒì„ ì ì–´ì¤€ë‹¤
// ex) scripts={
// "start": "node index.js" // ì´ë¦„ì€ ììœ ë¡­ê²Œ ì§€ì–´ì¤„ ìˆ˜ ìˆë‹¤
// }
// (6) ê·¸ í›„ npm run start ë¡œ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤(startë€ ë³€ìˆ˜ ì´ë¦„ìœ¼ë¡œ) // package.jsonì´ ì¡´ì¬í•˜ëŠ” í´ë” í•œì •
// (7) npm install express ë¡œ Express íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ëŠ”ë‹¤
// (8) node_modules, package-lock.json íŒŒì¼ì´ ìƒì„±ëœë‹¤
// (9) node_modules ì—ëŠ” npmìœ¼ë¡œ ì„¤ì¹˜í•œ ëª¨ë“  íŒ¨í‚¤ì§€ê°€ ì €ì¥ëœë‹¤
// (10) express ëŠ” í˜¼ì ì‘ë™ë˜ì§€ ì•Šê¸°ì— ë‹¤ë¥¸ íŒ¨í‚¤ì§€ê°€ í•„ìš”í•˜ë‹¤
// (11) node_modules ì•ˆì— express ì•ˆì— ì¡´ì¬í•˜ëŠ” package.jsonì•ˆì— dependenciesëŠ” expressê°€ ì‘ë™ë˜ê¸°ìœ„í•´ í•„ìš”í•œ íŒ¨í‚¤ì§€ë“¤ì„ ë‚˜íƒ€ë‚¸ë‹¤
// (12) expressë¥¼ ì„¤ì¹˜í•˜ëŠ”ë° ì˜ì¡´í•˜ê³  ìˆëŠ” íŒ¨í‚¤ì§€ê°€ ìˆê¸° ë•Œë¬¸ì— npm i expressë¥¼ í•˜ë©´ ê·¸ê²ƒë“¤ë„ í•¨ê»˜ ì„¤ì¹˜ëœë‹¤
// (13) npm i express ë¥¼ í–ˆì„ ë•Œ npm ì´ ì•Œì•„ì„œ dependenciesì— expressë¥¼ ì¶”ê°€í•´ì¤€ë‹¤

// # 2.2
// package.jsonì—ëŠ” author, license, bugs ê°™ì€ ì •ë³´ë„ ì¡´ì¬í•˜ì§€ë§Œ, ìš°ë¦¬ í”„ë¡œì íŠ¸ë¥¼ ë™ì‘ì‹œí‚¬ ë•Œ í•„ìš”í•œ ëª¨ë“ˆë“¤ì´ ì–´ë–¤ ê±´ì§€ë¥¼ ì •ë³´ë¥¼ ë‹´ê³  ìˆë‹¤. npmì´ package.jsonì„ ë³´ê³  í•„ìš”í•œ ê±¸ ì„¤ì¹˜í• í…Œë‹ˆê¹ ì¢‹ì€ ê¸°ëŠ¥ì´ë‹¤.
// ì™œëƒí•˜ë©´ ë§Œì•½ íŒ€ìœ¼ë¡œ nodeJSë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ì»´í“¨í„°ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ node_modulesì„ githubì— ë„£ì„ í•„ìš”ê°€ ì—†ë‹¤. 
// node_modeuls í´ë”ë¥¼ ë³´ë‚¼ í•„ìš” ì—†ì´ dependenciesë¥¼ ì•Œë ¤ì£¼ë©´ ë˜ëŠ”ë°, ê·¸ëŸ¬ë©´ npm ië§Œ ì„¸íŒ…í•´ì„œ node_modulesê°€ ìë™ì ìœ¼ë¡œ ë‹¤ìš´ ë°›ì•„ì§ìœ¼ë¡œ package.jsonë§Œ ìˆìœ¼ë©´ npm iì„ í•˜ë©´ ë˜ë‹ˆê¹ í•„ìš”í•œ ì •ë³´ëŠ” dependenciesë‚´ì— ìˆìœ¼ë¯€ë¡œ pakcage.jsonì´ ì–¼ë§ˆë‚˜ ì¤‘ìš”í•œ ì§€ ì•Œ ìˆ˜ ìˆëŠ”ë° ë°©ê¸ˆì²˜ëŸ¼ ëª¨ë“ˆë“¤ì„ ì„¤ì¹˜í•˜ë©´ ëœë‹¤.
// package-lock.jsonì€ íŒ¨í‚¤ì§€ë“¤ì„ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•´ì£¼ëŠ”ë° íŒ¨í‚¤ì§€ê°€ ìˆ˜ì • ëëŠ”ì§€ í•´ì‹œê°’ìœ¼ë¡œ ì²´í¬í•´ì£¼ë©´ì„œ ì•ˆì „í•¨ìœ¼ë¡œ ë§ê·¸ë˜ë„ ì ê²¨ ìˆëŠ”ë° ë§Œì•½ í”„ë¡œì íŠ¸ê°€ package.jsonìœ¼ë¡œ ì‘ë™í•˜ëŠ”ë° package.jsonìœ¼ë¡œ expressì„ ì“´ë‹¤ë©´ pakcage.json, package-lock.json, index.jsë¥¼ ì£¼ê³ ì„œ npm ië¥¼ í•˜ë©´ ê·¸ ì‚¬ëŒë„ ë˜‘ê°™ì€ ë²„ì „ì˜ ëª¨ë“ˆì„ ì„¤ì¹˜í•œë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤.
// ì½”ë“œê°€ íšì‹¤í•˜ê²Œ ë™ì‘í•œ ë‹¤ëŠ” ëœ»ìœ¼ë¡œ freshë¼ëŠ” íŒ¨í‚¤ì§€ì˜ 0.5.2 ë²„ì „ì„ ì„¤ì¹˜í•œë‹¤ê³  í•´ë³´ë©´, ë§ ê·¸ë˜ë„ ë”± ê·¸ ë²„ì „ì´ ì„¤ì¹˜ë˜ë©´ì„œ debug, encodeurl, statusesë„ ë”± ê·¸ ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜ë˜ë©´ì„œ ê´€ë¦¬í•  í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.npmì´ ì•Œì•„ì„œ ì²˜ë¦¬í•´ì£¼ê¸° ë•Œë¬¸ì´ë‹¤.
// dependenciesê°€ ìˆê¸° ë•Œë¬¸ì— npm ií•˜ë©´ ì•Œì•„ì„œ dependenciesì— í•´ë‹¹ ëª¨ë“ˆì„ ì„¤ì¹˜í•˜ë©´ì„œ node_modules í´ë”ê°€ êµ³ì´ githubì— í•„ìš”ì—†ìœ¼ë¯€ë¡œ .gitignoreë¥¼ ì„¤ì •í•´ì„œ /node_modulesë¥¼ ë„£ì–´ì£¼ì. 
// package.jsonì´ ì—´ë ¤ìˆê³  ë­”ê°€ ìˆ˜ì •ì„ í–ˆëŠ”ë° ì €ì¥ì„ í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ npm i expressë¥¼ ìˆ˜ì •í•˜ë©´ npmì´ package.jsonì˜ dependenciesë¥¼ ìˆ˜ì •í•˜ëŠ”ë° ì €ì¥ì„ ì•ˆí•´ì”© ë•Œë¬¸ì— ë²„ì „ì´ ì¶©ëŒí•˜ë©´ì„œ npm install í•  ë•ŒëŠ” package.jsonì„ ê¼­ ë‹«ê³  ì‹¤í–‰í•´ì•¼ í•œë‹¤. npmì´ ìë™ìœ¼ë¡œ package.jsonì„ ìˆ˜ì •í•œë‹¤. 
// ì§€ê¸ˆì€ dependenciesê°€ í”„ë¡œì íŠ¸ë¥¼ êµ¬ë™ì‹œí‚¤ëŠ” ë° í•„ìš”í•œ ëª¨ë“ˆë“¤ì´ë€ ê²ƒë§Œ ì˜ ê¸°ì–µí•˜ë©´ ëœë‹¤. ë‹¤ë¥¸ ì‚¬ëŒë“¤í•œí…Œ node_modules í´ë”ë¥¼ ë³´ë‚¼ í•„ìš”ê°€ ì—†ë‹¤. ê·¸ëƒ¥ ì´ íŒŒì¼ë§Œ ê°€ì§€ê³  'npm i'ì„ í•˜ë©´ npmì´ dependenciesì— ìˆëŠ” ëª¨ë“  ê²ƒë“¤ì„ ì„¤ì¹˜í•´ì¤€ë‹¤. 

// #2.3
// NodeJSì—ì„œ í•„ìš”í•œ babelì„¤ì¹˜
// npm install --save-dev @babel/core
// npm install @babel/preset-env --save-dev

// babel.config.jsoníŒŒì¼ ìƒì„±
// ```
// {
// "presets": ["@babel/preset-env"]
// }
// ```
// https://babeljs.io/setup#installation

// @babel/preset-env
// @babel/preset-envëŠ” í™˜ê²½ì— í•„ìš”í•œ êµ¬ë¬¸ ë³€í™˜ì„ ì„¸ë¶€ì ìœ¼ë¡œ ê´€ë¦¬í•  í•„ìš” ì—†ì´ ìµœì‹  JavaScriptë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ìŠ¤ë§ˆíŠ¸í•œ presetì…ë‹ˆë‹¤.
// https://babeljs.io/docs/en/babel-preset-env

// devDependenciesë‚˜ ê·¸ëƒ¥ dependenciesë‚˜ node_modulesì— ì„¤ì¹˜ëœë‹¤ëŠ” ì ì€ ëª¨ë‘ ê°™ë‹¤.
// ì˜ë¯¸ì ìœ¼ë¡œ êµ¬ë¶„í•˜ëŠ” ì°¨ì´ë§Œ ìˆë‹¤.
// dependenciesëŠ” í”„ë¡œì íŠ¸ì— í•„ìš”í•œ packageë¼ëŠ” ê²ƒì„ ì•Œë ¤ì¤€ë‹¤.
// devDependenciesëŠ” ê°œë°œ ìƒì˜ ì´ì ì„ ìœ„í•œ packageë¼ëŠ” ê²ƒì„ ì•Œë ¤ì¤€ë‹¤.


// #2.4
// * nodemon íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ì—¬ ì‹¤ì‹œê°„ìœ¼ë¡œ ìˆ˜ì •ëœ ì‚¬í•­ì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.
//   "dev": "nodemon --exec babel-node src/server.js" -->  nodemon --exec ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³€ê²½ëœ ì‚¬í•­ì„ í™•ì¸ í• ìˆ˜ ìˆë‹¤.



// ------------------------------- //#2 SET UP -------------------------------


// ------------------------------- ##3 INTRODUCTION TO EXPRESS -------------------------------

// *ì„œë²„ ë§Œë“¤ê¸°*

// #3.0
// import express from "express"; <-- expressë¥¼ importí•˜ì—¬ ì„ ì–¸ í•´ì¤€ë‹¤
// const app = express(); <-- express()ìœ¼ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤
// app.listen() <-- callback í•¨ìˆ˜ê°€ ìˆìŒ port ë„˜ë²„ë¥¼ ì„¤ì •í•˜ë©°, ì„œë²„ê°€ ì‹¤í–‰ ë¬ì„ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ë¥¼ ë„£ì–´ì¤€ë‹¤.
//  - ex) app.listen(4000, handleListening);
// *port --> ìœˆë„ìš°ì˜ ë¬¸ì´ë‚˜ ì°½ë¬¸ ê°™ì€ ì—­í• 
//  - port = 4000 ì‚¬ìš©í•˜ëŠ”ê±°ëŠ” ë°±ì—”ë“œ ê´€ìŠµ, ìˆ«ìê°€ ë†’ì•„ì§ˆìˆ˜ë¡ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í¬íŠ¸ê°€ ë§ì•„ì§

// #3.1
// Cannot GET / --> / ì´ê±°ëŠ” 'í˜ì´ì§€'ë¥¼ ë§í•˜ëŠ”ê±° ex) google.com === google.com/
// GET = HTTP method (get this page) 
// httpëŠ” ì„œë²„ì™€ ì†Œí†µí•˜ëŠ” ë°©ì‹ì´ë‹¤
// ë¸Œë¼ìš°ì €ëŠ” ë‚˜ë¥¼ ëŒ€ì‹ í•´ì„œ ì›¹ì‚¬ì´íŠ¸ë¥¼ request(ìš”ì²­)í•˜ê³ , í˜ì´ì§€ë¥¼ ê°€ì ¸ë‹¤ ì£¼ëŠ”ê²ƒ
// - '/'ëŠ” rootë¥¼ ì˜ë¯¸í•œë‹¤.
// - getì€ http methodë‹¤.
// - httpëŠ” ìš°ë¦¬ê°€ ì„œë²„ì™€ ì†Œí†µí•˜ëŠ” ë°©ì‹ì´ë‹¤.
// - http requestëŠ” ë§í•˜ìë©´ ì›¹ì‚¬ì´íŠ¸ì— ì ‘ì†í•˜ê³  ì„œë²„ì— ì •ë³´ë¥¼ ë³´ë‚´ëŠ” ë°©ë²•ì´ë‹¤.
// - ì›¹ì‚¬ì´íŠ¸ë¥¼ ì ‘ì†í•  ë–„ ë¸Œë¼ìš°ì €ê°€ ë‚˜ë¥¼ ë°ë ¤ì˜¤ëŠ”ê²Œ ì•„ë‹ˆë‹¤ ë¸Œë¼ìš°ì €ê°€ ë‚˜ë¥¼ ëŒ€ì‹ í•˜ì—¬ ì›¹ì‚¬ì´íŠ¸ë¥¼ requestí•˜ê³  í˜ì´ì§€ë¥¼ ê°€ì ¸ë‹¤ ì£¼ëŠ” ê²ƒì´ë‹¤.
// - ì¦‰ getì€ í˜ì´ì§€ë¥¼ ê°€ì ¸ì˜¤ë€ ëœ»ì´ë‹¤.

// #3.2
// const app = express();
//  --> express() ì„ ì–¸í•˜ê³  ë‹¤ìŒ ê·¸ ë°‘ìœ¼ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼í•¨
// * request --> ë¸Œë¼ìš°ì €ê°€ get requestë¥¼ ë³´ë‚´ëŠ”ê±°(get requestë„¤ëŠ” routeê°€ ìˆìŒ) / ìœ ì €ê°€ ë­”ê°€ë¥¼ ìš”ì²­í•˜ê±°ë‚˜, ë³´ë‚´ê±°ë‚˜, ë„¤ê²Œ ë¬´ìŠ¨ í–‰ë™ì„ í•œë‹¤, ëˆ„êµ°ê°€ê°€ ë¬´ì–¸ê°€ë¥¼ ë‹¬ë¼ê³  í•˜ëŠ”ê²ƒ, ì‚¬ìš©ìê°€ ìš”ì²­í•˜ëŠ”ê±°ì— ëŒ€í•œ ì •ë³´, ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³ ì ìš”ì²­ í•˜ëŠ”ê±°
// app.get(1."/",2.() => ) --> 1. "/" (root pageë¡œ get requestë¥¼ ë³´ëƒ„), 2. í•¨ìˆ˜ë¥¼ í˜¸ì¶œ í•˜ëŠ”ê±´ë° function()ì´ ê¼­ ë“¤ì–´ê°€ì•¼í•¨.

// #3.3
// app.get("/",() => ) ---> "/" > route ë¼ê³  í•¨
// routeëŠ” ì•„ë˜ì™€ ê°™ì´ ì´ë²¤íŠ¸ í˜¸ì¶œí•˜ëŠ” ì¸ìë¥¼ ê°–ê³  ìˆìœ¼ë©°, í•¨ìˆ˜ë¥¼ í˜¸ì¶œ í•´ì„œ ì‚¬ìš©í•œë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤.
//  - const handleClick = (event) => {};
//  - button.addEventListener("click",handleClick)

// * expressì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ ì¸ìê°’ì´ ì¡´ì¬í•œë‹¤. ex) const handleClick = (req, res) => {} / req,res ì¸ì ëª…ì€ ë‹¤ë¥´ê²Œ ì‚¬ìš© ê°€ëŠ¥, 
//  * ê¼­ ì¸ìê°’ 2ê°œë¥¼ ë„£ì–´ì„œ ì‚¬ìš© í•´ì•¼ í•œë‹¤. *
//  - ì²«ë²ˆì§¸ëŠ” : request(req) object --> ë¸Œë¼ìš°ì €ê°€ request(ìš”ì²­) í•˜ëŠ”ê±°
//  - ë‘ë²ˆì§¸ëŠ” : response(res) object --> ê°œë°œìê°€ response(ì‘ë‹µ) í•´ì£¼ëŠ”ê±°
// ex) handleClick({...},{...}) í’€ì–´ ì“°ë©´ì€ --> handleClick(request object, response object)ê°€ ë“¤ì–´ê°„ë‹¤

// ë¸Œë¼ìš°ì €ê°€ request(ìš”ì²­) í•˜ê³ ì„œ, ëë‚´ëŠ” ë°©ë²• ì¤‘ì—ëŠ” res.end(), res.send()ë¥¼ ì‚¬ìš©í•˜ì—¬ ë§ˆë¬´ë¦¬ ì§€ì„ìˆ˜ ìˆìŒ.
// * const handleClick = (req, res) => res.end(); --> {} ì—†ëŠ” í•œì¤„ ì‚¬ìš©ì€ returnì´ ë‚´í¬ë˜ì–´ ìˆì–´, returnì´ ì—†ì–´ë„ ê°€ëŠ¥í•˜ë‹¤.
// ex) const handleClick = (req, res) => {
//   1. return res.end();  --> endëŠ” ë°”ë¡œì¢…ë£Œ
//   2. return res.send("I still love you");  --> sendëŠ” ì¶”ê°€í•˜ê³  ì¢…ë£Œ
//   3. return res.send("<h1>love you</h1>>");  
//  }

// const handleHome = (req,res) => {
//   return res.send("I still love you")
// };

// const handleProtected = (req,res) => {
//   return res.send("Welcome to the private lounge.")
// };

// app.use(logger);
// app.get("/", handleHome);
// app.get("/protected",handleProtected);


// #3.5
// middleware --> ì¤‘ê°„ì— ìˆëŠ” ì†Œí”„íŠ¸ì›¨ì–´ / request & response ì‚¬ì´ì— ìˆëŠ”ê²ƒ / use(""), get("") í•¨ìˆ˜ì—ì„œ ì‚¬ìš© ê°€ëŠ¥
//  - (req, res, next) í•¨ìˆ˜ 3ê°œ í•„ìš” next í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•¨(middlewareê°€ ì•„ë‹Œ ë§ˆì§€ë§‰ í•¨ìˆ˜ëŠ” next() í•¨ìˆ˜ ì‚¬ìš©x)
//  - ë‹¤ìŒ í•¨ìˆ˜ë¡œ ë„˜ê¸°ëŠ” í•¨ìˆ˜
// middleware = controller
//  - ex) const handleClick = (req, res, next) --> nextë¼ëŠ” í•¨ìˆ˜ê°€ ìˆëŠ”ë°, í•¨ìˆ˜ê°€ ëë‚˜ê³  next() í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ì£¼ëŠ”ê±°ë‹¤. 
//  - ex) app.get("/", nextê°€ ì‹¤í–‰í•  í•¨ìˆ˜ë“¤, handleHome)
// middleware 

// #3.6
// app.use() = *global middlewareë¥¼ ë§Œë“¤ìˆ˜ ìˆê²Œ í•´ì¤Œ, *ì–´ëŠ URLì—ì„œë„ ì‘ë™í• ìˆ˜ ìˆìŒ
//  - ex) app.use()
//  - use() --> get() ìˆœì„œëŒ€ë¡œ í•´ì•¼ í•¨
//  - use()ì¸ middlewareë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  route(í˜ì´ì§€)ì—ì„œ ì‹¤í–‰ë¨
// * ex) middleware ë¥¼ ì§ì ‘ ë§Œë“ ê±°

// const logger = (req, res, next) => {
//   console.log(`${req.method} ${req.url}`)
//   next();
// }

// const privateMiddleware = (req, res, next) =>{
//   const url = req.url;
//   if(url === "/protected"){
//     return res.send("<h1>Not Allowed</h1>");
//   }
//   next();
// }

// app.use(logger);
// app.use(privateMiddleware)


// # 3.11
// * npm i morgan / morgan = middleware / morgan ì´ ë” ì •êµí•˜ë‹¤ -->
//   - morgan("dev") - GET, Path, Status code, ì‘ë‹µì‹œê°„ì„ ì½˜ì†” ë¡œê·¸ë¡œ ë³´ì—¬ì¤€ë‹¤.
// * morgan(" ") --> combined, common, dev, short, tiny ì„¤ì •í•˜ëŠ” í•¨ìˆ˜ê°’ì— ë”°ë¼ ì¶œë ¥ ë˜ëŠ” ë¡œê·¸ ê°’ì´ ë‹¤ë¦„.
// morgan íŒ¨í‚¤ì§€ëŠ” node.js ì„œë²„ë¡œ êµ¬ì„±ëœ ì›¹ í™˜ê²½ì—ì„œ HTTP request ë¡œê·¸ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ë¯¸ë“¤ì›¨ì–´ì´ë‹¤.
// - morganì€ node.jsìš© request logger middlewareë‹¤.
// - morgan í•¨ìˆ˜ëŠ” middleware ë¥¼ return í•´ì¤€ë‹¤.
// - morgan í•¨ìˆ˜ë¥¼ ë¶ˆëŸ¬ì˜¤ë©´ 5ê°œì˜ ì˜µì…˜ì´ ìˆë‹¤.
// - morganì€ ìš°ë¦¬ê°€ ë§Œë“  logger í•¨ìˆ˜ë³´ë‹¤ ì •êµí•˜ë‹¤. (GET, path, status code, ë“± ëª¨ë“  ì •ë³´ë¥¼ ê°–ê³  ìˆë‹¤.)


// ------------------------------- //#3 INTRODUCTION TO EXPRESS -------------------------------


// ------------------------------- #4 ROUTERS -------------------------------

// # 4.0
// *router --> ë¯¸ë‹ˆ ì–´í”Œë¦¬ì¼€ì´ì…˜
// router = handlerë‚˜ urlì„ ì¢€ ë” ê´€ë¦¬í•˜ê¸° ì‰½ê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥
//  - ì‘ì—…ì¤‘ì¸ ì£¼ì²´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ URLì„ ê·¸ë£¹í™”í•´ì¤€ë‹¤.
//  - ex) /users/edit, /users/delete etc ...
//  - /videos/edit, /videos/delete etc...
//  ë¼ìš°í„°ë¥¼ ë§Œë“¤ê¸° ì „ì— í”Œëœì„ ì ì–´ë‘ê³ , ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ ì§ì ‘ ë§Œë“¤ì–´ë³´ê³  í”„ë¡œì íŠ¸ì— ì ìš©í•´ë³´ëŠ”ê±°, ì–´ë–¤ ì¢…ë¥˜ì˜ ë°ì´í„°ë¥¼  ì´ìš©í• ê²ƒì¸ê°€ ex) Wetube -> ìœ ì €, ë™ì˜ìƒ ë‘ê°œì˜ ë°ì´í„°

// # Wetube Reloaded --> ë¼ìš°í„°

// - ê¸€ë¡œë²Œ ë¼ìš°í„° -
// / -> Home
// /join -> join
// /login -> login
// /search -> search
// - ê¸€ë¡œë²Œ ë¼ìš°í„° -

// /users/edit -> Edit user
// /users/delete -> Delete user

// /videos/watch -> Watch Video
// /videos/edit -> Edit Video
// /videos/delete -> Delete Video
// /videos/comments -> Comment on a video
// /videos/comments/delete -> Delete A Comment of a Video

// Router
// ëª¨ë“  Express ì• í”Œë¦¬ì¼€ì´ì…˜ì—ëŠ” ì•± ë¼ìš°í„°ê°€ ë‚´ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
// ë¼ìš°í„°ëŠ” ë¯¸ë“¤ì›¨ì–´ ìì²´ì²˜ëŸ¼ ì‘ë™í•˜ë¯€ë¡œ app.use()ì— ëŒ€í•œ ì¸ìˆ˜ë¡œ ë˜ëŠ” ë‹¤ë¥¸ ë¼ìš°í„°ì˜ use() ë©”ì„œë“œì— ëŒ€í•œ ì¸ìˆ˜ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
// ìµœìƒìœ„ ìµìŠ¤í”„ë ˆìŠ¤ ê°ì²´ì—ëŠ” ìƒˆë¡œìš´ ë¼ìš°í„° ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” Router() ë©”ì„œë“œê°€ ìˆìŠµë‹ˆë‹¤.
// https://expressjs.com/ko/4x/api.html#router

// # 4.2 ~ 4.3
// *ê° ë¼ìš°í„° jsì—ì„œ ë‹¤ë¥¸ jsì— ë³€ìˆ˜,í•¨ìˆ˜,ê°ì²´,ì›ì‹œ ë“±ì„ ë„˜ê²¨ì£¼ê¸° ìœ„í•´ì„œëŠ” exportë¥¼ í•œë‹¤

// * export default í•¨ìˆ˜ëª…; --> ì‚¬ìš©í•˜ì—¬ ë„˜ê²¨ì¤€ë‹¤
//  - ëª¨ë“ˆì—ì„œ í•˜ë‚˜ì˜ ê°’ë§Œ exportí•œë‹¤ë©´ default í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
//  - default í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° í•˜ë‚˜ì˜ ê°’ì„ export í•œë‹¤
//  - export defaultë¡œ ëª¨ë“ˆì„ ë‚´ë³´ë‚¸ë‹¤ë©´ exportí•œ ì´ë¦„ê³¼ ìƒê´€ì—†ì´ ì›í•˜ëŠ” ì´ë¦„ìœ¼ë¡œ importê°€ ê°€ëŠ¥í•˜ë‹¤.

// * export
// í•œ ëª¨ë“ˆ ì•ˆì— ì—¬ëŸ¬ ê°€ì§€ë¥¼ exportí•˜ëŠ” ê²½ìš°ì—ëŠ” export
// * ë³€ìˆ˜, í•¨ìˆ˜, í´ë˜ìŠ¤ë¥¼ í•˜ë‚˜ì˜ ê°ì²´ë¡œ êµ¬ì„±í•˜ì—¬ export
//   - export {name, sayHello, Person};
//   - export const name = ""; 

// * importì‹œ ëª¨ë“ˆì´ exportí•œ ì´ë¦„ìœ¼ë¡œ importí•´ì•¼ í•œë‹¤. (í•¨ìˆ˜ëª…ê³¼ ë™ì¼í•˜ê²Œ ì‚¬ìš© í•´ì•¼í•¨)
//  - const name = ""; --> name ì´ë¼ëŠ” í•¨ìˆ˜ëª…ê³¼ import í•˜ëŠ” í•¨ìˆ˜ëª…ì´ ë™ì¼í•´ì•¼ í•˜ë©°, {} ì•ˆì— ê°ì²´ë¡œ ë„£ì–´ì¤˜ì•¼í•¨
//  - import {name, sayHello, Person} from './test.js'
//  - import * as test from './test.js'
//  - import {name as myName, sayHello(), Person} from './test.js'

// - import {name, sayHello, Person} from './test.js' ì—¬ê¸°ì„œ . <-- í•˜ë‚˜ ì°ëŠ” ì´ìœ 
// * ìƒëŒ€ ê²½ë¡œ (Relative Path):
// .: í˜„ì¬ ë””ë ‰í† ë¦¬
// ..: ë¶€ëª¨ ë””ë ‰í† ë¦¬
// ì˜ˆì‹œ: ./module.js, ../module.js
// ìƒëŒ€ ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ë©´ í˜„ì¬ íŒŒì¼ì˜ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‹¤ë¥¸ íŒŒì¼ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í˜„ì¬ íŒŒì¼ê³¼ ë™ì¼í•œ ë””ë ‰í† ë¦¬ì— ìˆëŠ” module.js íŒŒì¼ì„ ê°€ì ¸ì˜¤ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•©ë‹ˆë‹¤:

// # 4.7
// ex) userRouter.get("/:id", seeUser);
// : --> íŒŒë¼ë¯¸í„°ë¼ê³  í•œë‹¤.
// * url ì•ˆì— ë³€ìˆ˜ë¥¼ í¬í•¨ì‹œí‚¬ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
// ë³€ìˆ˜ urlë¥¼ ë§Œë“¤ê±°ë©´ì€ í•„ìˆ˜ë¡œ ' : '<-- ê°€ ë“¤ì–µê°€ ì¤˜ì•¼ í•œë‹¤.
// /:id --> urlì— ë³€ìˆ˜ê°’ì„ ë„£ì–´ ì¤„ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤
// id --> ë³€ìˆ˜ëª…
// : --> /:id idê°€ ë³€ìˆ˜ë¼ê³  ì¸ì‹í•˜ê²Œ í•´ì¤Œ
// expressëŠ” ë¦¬í€˜ìŠ¤íŠ¸ ì˜¤ë¸Œì íŠ¸ì— ì´ íŒŒë¼ë¯¸í„°ë¥¼ ë³´ë‚´ì¤€ë‹¤.

// ex)
// videoRouter.get("/upload", upload) <--- **
// videoRouter.get("/:id", see)
// videoRouter.get("/:id/edit", edit)
// * ì—¬ê¸°ì„œ /uploadë¥¼ ìœ„ì— ì“´ ì´ìœ 
//   respond ë¥¼ ë°›ì•„ì˜¬ë•Œ /:id ì˜ ë³€ìˆ˜ ì¤‘ í•˜ë‚˜ë¼ê³  ì¸ì‹í•˜ê¸° ë•Œë¬¸ì´ë‹¤

// # 4.8
// express ë¼ìš°íŒ… --> ex) (/ab*cd) --> ab ì™€ cd ì‚¬ì´ì— ì•„ë¬´ê±°ë‚˜ ë“¤ì–´ì™€ ë„ ëœë‹¤.
// * ì •ê·œì‹ --> ë¬¸ìì—´ë¡œë¶€í„° íŠ¹ì • ì •ë³´ë¥¼ ì¶”ì¶œí•´ë‚´ëŠ” ë°©ë²•, ì •ê·œì‹ì€ ëª¨ë“  í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì— ì¡´ì¬
// * --> ì•„ë¬´ê±°ë‚˜ í¬í•¨
// ? --> ì„ íƒì‚¬í•­ ()? - ê´„í˜¸ì•ˆì— ìˆëŠ” ë‚´ìš©ì„ ì„ íƒí•´ì„œ ë„£ì–´ë„ ë˜ê³  ì•ˆë„£ì–´ë„ ë˜ê³ 
// + --> ab+c ë¼ê³  í•˜ë©´ abc, abbc, abbbc ë“± b ë¥¼ ì—¬ëŸ¬ê°œ ê°€ëŠ¥

// ex) ìˆ«ìë§Œ urlì— ë“¤ì–´ê°„ ì£¼ì†Œì—ë§Œ í•¨ìˆ˜ ì‹¤í–‰í•˜ê³  ì‹¶ì„ë•Œ
// videoRouter.get("/upload", upload)
// videoRouter.get("/:id(\\d+)", see)
// videoRouter.get("/:id(\\d+)/edit", edit)
// videoRouter.get("/:id(\\d+)/delete", deleteVideo)
// (\\d+) --> í•˜ë‚˜ ì´ìƒì˜ ì—°ì†ëœ ìˆ«ìë¥¼ ì°¾ì•„ì„œ ìº¡ì²˜ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ëŠ” ì •ê·œì‹
// ** 
// **** :id(\\d+) --> idë¥¼ ë¶™ì¸ ì´ìœ ëŠ” ì´ë¦„ì„ ë¶™ì´ê¸° ìœ„í•´ì„œ (ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ í•„ìš”)
// req.params.id --> ì´ëŸ°ì‹ìœ¼ë¡œ ì´ë¦„ì„ ë¶™ì—¬ì„œ ì‚¬ìš© í•˜ê¸° ìœ„í•´

// Routing
// https://expressjs.com/ko/guide/routing.html

// ì •ê·œí‘œí˜„ì‹ í…ŒìŠ¤íŠ¸ ì‚¬ì´íŠ¸
// https://www.regexpal.com

// \w+: ëª¨ë“  ë¬¸ì, ìˆ«ì ì„ íƒ
// \d+: ëª¨ë“  ìˆ«ì ì„ íƒ


// ------------------------------- //#4 ROUTERS -------------------------------



// ------------------------------- #5 TEMPLATES -------------------------------


// # 5.1
// ** Pug **
// PugëŠ” Hamlì˜ ì˜í–¥ì„ ë§ì´ ë°›ì€, Node.js ë° ë¸Œë¼ìš°ì €ìš© JavaScriptë¡œ êµ¬í˜„ëœ ê³ ì„±ëŠ¥ í…œí”Œë¦¿ ì—”ì§„ì…ë‹ˆë‹¤. PugëŠ” ì´ì „ì— "Jade"ë¡œ ì•Œë ¤ì¡ŒìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ "Jade"ê°€ ë“±ë¡ìƒí‘œì„ì´ ë°í˜€ì ¸ ì´ë¦„ì„ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.
// npm i pug
// https://www.npmjs.com/package/pug

// Expressì™€ í•¨ê»˜ í…œí”Œë¦¬íŠ¸ ì—”ì§„ì„ ì‚¬ìš©
// Expressê°€ í…œí”Œë¦¬íŠ¸ë¥¼ ë Œë”ë§í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.
// views, í…œí”Œë¦¬íŠ¸ê°€ ìˆëŠ” ë””ë ‰í† ë¦¬. ì˜ˆ: app.set('views', './views')
// * view engine, ì‚¬ìš©í•  í…œí”Œë¦¬íŠ¸ ì—”ì§„. ì˜ˆ: app.set('view engine', 'pug')
// https://expressjs.com/ko/guide/using-template-engines.html

// Application Settings (Expressì–´í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •)
// https://expressjs.com/ko/4x/api.html#app.use

// í—¤ë”ì—ì„œ Expressë¥¼ ì—†ì• ëŠ” ë°©ë²•:
// app.disable('x-powered-by');

// console.log(process.cwd()) --> process.cwd() í˜„ì¬ ì‘ì—…ì¤‘ì¸ ë””ë ‰í† ë¦¬ë¥¼ ì½˜ì†”ë¡œê·¸ë¡œ ì¶œë ¥í•´ì¤Œ
// * í˜„ì¬ ë””ë ‰í† ë¦¬ê°€ íŒŒì¼ ìœ„ì¹˜ì™€ ë‹¤ë¥¸ ì´ìœ ëŠ” node.jsë¥¼ ì‹¤í–‰í•˜ëŠ” package.jsonìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì¡ê³  ìˆì–´ì„œ ì½”ë”© í•˜ëŠ” íŒŒì¼ ìœ„ì¹˜ì™€ ë‹¤ë¥¸ ê²ƒ
// app.set("view engine", "pug"); --> pug í…œí”Œë¦¬íŠ¸ ì„¤ì •
// app.set("views", process.cwd() + "/src/views"); --> í…œí”Œë¦¬íŠ¸ ê²½ë¡œ ì„¤ì •
// res.render("watch"); --> render ì†ì„±ìœ¼ë¡œ ("íŒŒì¼ëª…") íŒŒì¼ëª…ê³¼ ë™ì¼í•œ ì´ë¦„ìœ¼ë¡œ ë„£ì–´ì¤€ë‹¤.

// # 5.2
// ëœë”í•˜ëŠ” íŒŒì¼ëª…ì€ ì†Œë¬¸ìì—¬ì•¼ í•˜ê³ , ë„ì–´ì“°ê¸°ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤!
// pug íŒŒì¼ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼  #{} (ë³€ìˆ˜ ì‚¬ìš©)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ex) #{new Date().getFullYear()}
// * ì†ì„±ì—ëŠ” #{}ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì†ì„±ì—ëŠ” `${}` ë°±í‹±ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤
// ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œëŠ” ìœ ì €ê°€ ë³´ê¸°ì „ì— í‰ë²”í•œ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜ëœë‹¤ ê·¸ê²Œ 'ë Œë”ë§' ì´ë¼ê³  í•œë‹¤.
// include --> ë‹¤ë¥¸ íŒŒì¼ì„ í¬í•¨ ì‹œí‚¬ìˆ˜ ìˆë‹¤.

// # 5.3
// inheritance --> ìƒì† ê°œë…ìœ¼ë¡œ ë² ì´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤. ë ˆì´ì•„ì›ƒ, html ë“±ì˜ ë² ì´ìŠ¤ë¼ê³  í•œë‹¤.
//  ex) layout.pug / base.pug 
// * extends(í™•ì¥) --> ex) extends base.pug
// * block --> í…œí”Œë¦¿ì˜ ì°½ë¬¸, ë¬¸ ê°™ì€ê±°, ë¬´ì–¸ê°€ë¥¼ ì§‘ì–´ ë„£ì„ìˆ˜ ìˆëŠ” ê³µê°„

// ex) block content --> ë¸”ëŸ­ì„ ë„£ì„ ê³³ì— 'block content' ë¼ê³  ì‘ì„±í•œë‹¤.(content ë³€ìˆ˜ëŠ” ë‹¤ë¥´ê²Œ ì¨ë„ ë¬´ë°©)

//     block content
//      h1 watch video  --> ì´ë ‡ê²Œ 2ì¤„ë¡œ ì‘ì—…í•˜ì—¬ ìˆ˜ì •í•œë‹¤
// ì†ì„±ì¸ () ê´„í˜¸ ì•ˆì— ì„ ì–¸í•œë‹¤
// ex) link(rel="stylesheet" href="https://unpkg.com/mvp.css")

// # 5.4
// pugë¥¼ ë Œë”ë§í•´ì£¼ëŠ”ê±´ controller!
// render("")ëŠ” 2ê°œì˜ argumentë¥¼ ë°›ëŠ”ë‹¤. --> ex) render("home",{pageTitle: "Home", potato: "tomato"})
//  1. í•˜ë‚˜ëŠ” view --> "home"
//  2. ë‹¤ë¥¸ í•˜ë‚˜ëŠ” í…œí”Œë¦¿ì— ë³´ë‚¼ ë³€ìˆ˜! --> {pageTitle: "Home"}
// ** í…œí”Œë¦¿ì— ë³€ìˆ˜ë¥¼ ìƒì„±í•˜ëŠ”ë²• #{} --> ex) title #{pageTitle} | Wetube 

// # 5.6
// MVP CSS --> ê¸°ë³¸ style ì¡ì•„ì¤Œ
//  - link(rel="stylesheet" href="https://unpkg.com/mvp.css")


// # 5.7
// * =ë³€ìˆ˜ëª… --> ì´ë ‡ê²Œ ì ëŠ” ì´ìœ ëŠ” í•˜ë‚˜ì˜ í…ìŠ¤íŠ¸ë¥¼ ë³€ìˆ˜ë¡œ ë³´ì—¬ì¤Œ(ë‹¤ë¥¸ í…ìŠ¤íŠ¸ì™€ ì„ì§€ ì•ŠìŒ)
// ex) h1=pageTitle , h1 #{pageTitle} ì´ê±° ë‘ê°œëŠ” ê°™ì§€ë§Œ #{} ë¶™ì´ëŠ”ê±°ëŠ” ë‹¤ë¥¸ í…ìŠ¤íŠ¸ì™€ ì„ì–´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ 
// * ê°ì²´ ë¦¬í„°ëŸ´ ì¶•ì•½ì†ì„±(es6) --> ê°ì²´ë¥¼ ì •ì˜í•  ë•Œ ì†ì„±ì˜ ì´ë¦„ê³¼ ë³€ìˆ˜ì˜ ì´ë¦„ì´ ê°™ìœ¼ë©´, ì†ì„± ê°’ì„ í• ë‹¹í•  ë•Œ name: name ëŒ€ì‹  nameìœ¼ë¡œ ì¶•ì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
// ex) ë³€ìˆ˜ëª…:ë³€ìˆ˜ëª… === ë³€ìˆ˜ ê°™ìŒ
// ES5 ë°©ì‹)
// const person1 = {
//   name: name,
//   age: age
// };

// // ES6 ë°©ì‹ (ì¶•ì•½ ì†ì„± ì‚¬ìš©)
// const person2 = {
//   name,
//   age
// };

// * Conditionals (ì¡°ê±´ë¬¸)
// if fakeUser.loggedIn
// li
//   a(href="/logout") Log out 
// else
// li 
//   a(href="/login") Login


// # 5.8
// * Iteration (ë°˜ë³µë¬¸) --> 'ì•„ì´í…œ' ë³€ìˆ˜ë¥¼ ì§€ì •, 'ì•„ì´í…œë“¤ ë³€ìˆ˜' ê°ì²´ë¥¼ ë³€ìˆ˜ë¡œ ì„ ì–¸í•œ ë³€ìˆ˜ëª…
//  --> each 'ì•„ì´í…œ(ë‹¨ìˆ˜)' in 'ì•„ì´í…œë“¤ ë³€ìˆ˜(ë³µìˆ˜) --> list ì—¬ì•¼ í•œë‹¤.(Array ë°°ì—´)'
//       li='ì•„ì´í…œ'
// --> * pug ì—ì„œëŠ” each ë¬¸ì—ì„œ ifë¬¸ ì²˜ëŸ¼ elseë¥¼ ì‚¬ìš©í• ìˆ˜ ìˆë‹¤. *
// each ë¬¸ì˜ ë¦¬ìŠ¤íŠ¸(ë°°ì—´)ê°’ì´ ë¹ˆê°’ ì´ê±°ë‚˜ lengthê°€ 0 ì´ë©´ elseë¥¼ ì‹¤í–‰ ì‹œí‚´

// ex)
// const videos = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];  
// return res.render("home", {pageTitle:"home",videos})
//     ES5 <-- videos:videos === videos --> ES6(ì¶•ì•½ ì†ì„± ì‚¬ìš©)
// return res.render("home", {pageTitle:"home",videos:videos})

//    ul
//      each video in videos
//        ll=video


// ex)
// const videos = [
//  {
//    title: "hello"
//  },
//  {
//    title: "video #2"
//  },
// ];  
// return res.render("home", {pageTitle:"home",videos})

//    ul
//      each video in videos
//        ll=video.title
//      else
//        Sorry nothing found.


// # 5.9
// * mixin --> ë°ì´í„°ë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ” partial, mixinì€ ë˜‘ë˜‘í•œ partial ì´ë‹¤.
// * mixin ì—ì„œëŠ” +mixinë³€ìˆ˜ëª…(ì¸ìê°’) ì´ë ‡ê²Œ ì„ ì–¸í• ìˆ˜ ìˆë‹¤.
// * mixinì„ íŒŒì¼ì„ ë‹¤ì‹œ include í•´ì„œ ì—°ê²° ì‹œì¼œì¤˜ì•¼ í•œë‹¤.
//   - ex) include mixins/video

// - ex)
//  each potato in videos
//    +video(potato)

// ------------------------------- //#5 TEMPLATES -------------------------------




// ------------------------------- #6 MONGODB AND MONGOOSE -------------------------------

// # 6.0
// #{}ëŠ” í…ìŠ¤íŠ¸ì— ì‚¬ìš©í•˜ë©° ì†ì„±ì—ëŠ” ì‚¬ìš©í• ìˆ˜ ì—†ìŒ, ì†ì„±ì—ì„œ ì‚¬ìš©í• ë ¤ë©´ `${}` ë°±í‹±ì„ ì‚¬ìš©í•´ì•¼ í•¨.
// const id = req.params.id; === const { id } = req.params; --> ES6 ë¬¸ë²•

// # 6.1
// URL
// * url ì„¤ì • ì œì¼ì•ì— / ê°€ìˆìœ¼ë©´ ì ˆëŒ€ê²½ë¡œ(absolute), ì—†ìœ¼ë©´ ìƒëŒ€ê²½ë¡œ(relative)ë¡œ í˜„ì¬ urlì—ì„œ ë’¤ì— ì£¼ì†Œê°€ ë¶™ëŠ”ë‹¤.
//  í˜„ì¬ ë‚˜ì˜ url - localhost:4000/videos
//  - a(href="/edit") ---> localhost:4000/edit
//  - a(href="edit") ---> localhost:4000/videos/edit
//  - a(href=`${video.id}/edit`) ---> localhost:4000/videos/1/edit

// # 6.2
// form - action="" ì†ì„± (ë°ì´í„°ë¥¼ ì „ì†¡ì„ ìœ„í•œ ê°’), (ê¸°ë³¸ê°’ì€ í˜„ì¬ url)
//  - actionì€ ë„ˆê°€ ê°€ê²Œë  ì„œë²„ ì£¼ì†Œì´ë‹¤. ê·¸ ê°’ì€ urlì´ ëœë‹¤.
//  - ë„ˆì˜ ì„œë²„ê°€ ê°€ì ¸ì•¼ í•˜ëŠ” url, url ê°’
//  - ê°’ ì‘ì„±ì‹œ ì§€ì •ëœ urlë¡œ ê°’ì´ ë“¤ì–´ê°
// form - method="" ì†ì„±  (ê¸°ë³¸ GET)
//  - ì„œë²„ë¡œ ì „ì†¡í•˜ëŠ” ë°©ë²•ì„ ì§€ì •í•´ì£¼ëŠ” ì†ì„±
//  - GET, POST ë‘ê°œì˜ ì†ì„± ê°’ì´ ìˆìŒ
//  - GET --> íŒŒë¼ë¯¸í„°ê°€ ì£¼ì†Œì°½ì— ë‚˜ì˜¤ëŠ” ë°©ì‹(ëˆˆìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥)
//    --> input ë“± name ê°’ë„ ê°™ì´ urlì— ì…ë ¥ ë˜ì–´ì§
//    ex) input name="nameTitle" -> url : ì•¡ì…˜ ê°’?nameTitle=ì¸í’‹ì˜ ë°¸ë¥˜ê°’
//  - POST --> HTTP í”„ë¡œí† ì½œì˜ bodyì— íŒŒë¼ë¯¸í„°ê°€ ë„˜ì–´ê°€ëŠ” ë°©ì‹(ëˆˆì— ë³´ì´ì§€ ì•Šì•„ ë³´ì•ˆì„±ì´ ìœ ì§€ë¨)
//    --> íŒŒì¼ì„ ë³´ë‚´ê±°ë‚˜, databaseì— ìˆëŠ” ê°’ì„ ë°”ê¾¸ëŠ” ê°’ì„ ë³´ë‚¼ë•Œ ì‚¬ìš©.
//    --> ë¡œê·¸ì¸, íšŒì›ê°€ì…, ê¸€ ì‘ì„±, íŒŒì¼ ì—…ë¡œë“œ í˜ì´ì§€ ë“±ì— ì£¼ë¡œ ì‚¬ìš©ë¨.

// # 6.3
// routerì—ì„œ get(),post()ë¥¼ ë‘ì¤„ì´ ì•„ë‹Œ í•œì¤„ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ë°©ë²• --> route() ì‚¬ìš©
// ex) ë‘ê°œ
//  - ë³€ìˆ˜ëª….route("url ì£¼ì†Œ").get(í•¨ìˆ˜ëª…).post(í•¨ìˆ˜ëª…);
// redirect() --> ë¸Œë¼ìš°ì €ê°€ redirect(ìë™ìœ¼ë¡œ ì´ë™) í•˜ë„ë¡ í•˜ëŠ”ê²ƒ

// get - ì ‘ê·¼
// post - ì „ì†¡
// redirect - ë‹¤ì‹œë³´ë‚´ë‹¤
// parameter - ë§¤ê°œë³€ìˆ˜
// expressëŠ” formìœ¼ë¡œ ë³´ë‚¸ ë°ì´í„°ë¥¼ ì½ì§€ëª»í•¨

// ** req.body
//  - req.bodyì—ëŠ” formì„ í†µí•´ submitëœ ë°ì´í„°ì˜ í‚¤-ê°’ ì„ ìŒìœ¼ë¡œ í¬í•¨í•©ë‹ˆë‹¤.
//  - ê¸°ë³¸ì ìœ¼ë¡œëŠ” undefinedì´ë©° express.json() ë˜ëŠ” express.urlencoded()ì™€ ê°™ì€ ë°”ë”” íŒŒì‹± ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•  ë•Œ ê°’ì„ ë°›ì•„ì˜µë‹ˆë‹¤.
//  - inputì— name ì†ì„± ê°’ì´ ì—†ìœ¼ë©´ req.body ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ì§€ ëª»í•¨.
//  - inputì˜ name ê°’ì´ title ì¼ ê²½ìš°ì— --> req.body.title ë˜ëŠ” { title } = req.body ë¼ê³  ì„ ì–¸ ê°€ëŠ¥
// routesë¥¼ ì‚¬ìš©í•˜ê¸° ì „ì— middlewareë¥¼ ì‚¬ìš©í•´ì•¼ í•¨
// middleware -> form ì„ í•´ì„í•˜ê³  -> ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë³€í˜• ì‹œì¼œ ì‚¬ìš© í• ìˆ˜ ìˆê²Œ ë˜ëŠ”ê±°
// ex)
//  - app.use(express.urlencoded({extended: true}))
//    --> express applicationê°€ formì˜ valueë“¤ì„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ í•˜ê³ , ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë³€í˜• ì‹œì¼œì¤Œ

// # 6.7
// MongoDB --> document-based(ë¬¸ì„œ ê¸°ë°˜)
// MongoDB ë‹¤ìš´ë¡œë“œ ì‚¬ì´íŠ¸
// https://docs.mongodb.com/manual/installation


// # 6.8
// Mongoose --> node.jsì™€ MongoDBë¥¼ ì´ì–´ì£¼ëŠ” ë‹¤ë¦¬
//  - í„°ë¯¸ë„ì—ì„œ mongod ëª…ë ¹ì–´ ì…ë ¥í•˜ì—¬ ì„¤ì¹˜ê°€ ì˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
//  - mongodb ì‹¤í–‰ë°©ë²• 
//    í„°ë¯¸ë„ -> brew services start mongodb-community@7.0 -> mongod -> mongosh
// Event ì°¨ì´ì 
// * on --> ì—¬ëŸ¬ë²ˆ ê³„ì† ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤. (í´ë¦­ ì´ë²¤íŠ¸ ê°™ì€ ê±°)
// * once --> ì˜¤ë¡œì§€ í•œë²ˆë§Œ ì‹¤í–‰ ë¨.
//
// í˜ì´ì§€ì—ì„œ ìƒì„±, í¸ì§‘, ì½ê¸°, ì‚­ì œ í•˜ëŠ” ë°©ì‹ìœ½ CRUD ë¼ê³  í•œë‹¤
// C - Create(ìƒì„±)
// R - Read(ì½ê¸°)
// U - Update(ìˆ˜ì •)
// D - Delete(ì‚­ì œ)

// # 6.10
// * modelì˜ í˜•íƒœë¥¼ ì •ì˜ í• ë•Œ Schema(ë°ì´í„°ë² ì´ìŠ¤ì˜ êµ¬ì¡°ì™€ ì œì•½ì¡°ê±´ì— ê´€í•´ ì „ë°˜ì ì¸ ëª…ì„¸ë¥¼ ê¸°ìˆ í•œ ê²ƒ)ë¼ê³  í•œë‹¤.
//  - ê°œì²´ì˜ íŠ¹ì„±ì„ ë‚˜íƒ€ë‚´ëŠ” ì†ì„±(Attribute)ê³¼, ì†ì„±ë“¤ì˜ ì§‘í•©ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ê°œì²´(Entity), ê·¸ë¦¬ê³  ê°œì²´ ì‚¬ì´ì— ì¡´ì¬í•˜ëŠ” ê´€ê³„(Relation)ì— ëŒ€í•œ ì •ì˜ë¥¼ í¬í•¨í•˜ì—¬, ì´ë“¤ì´ ì§€ì¼œì•¼ í•  ì œì•½ ì¡°ê±´ì„ ê¸°ìˆ í•œ ê²ƒ.
//  - ë¬¼ë¦¬ì ì¸ ì¥ì¹˜ë¡œë¶€í„° ë…¼ë¦¬ì ì¸ ë°ì´í„° ë² ì´ìŠ¤ ë ˆì½”ë“œ(data base record)ë¥¼ ë§¤í•‘(mapping)í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì •ì˜ ì •ë³´ë¥¼ ë§í•œë‹¤. ì¦‰ ì¿ í‚¤í‹€ ì´ë¼ê³  ë³´ë©´ ë ê±°ê°™ë„¤ìš”..!

// ex)
//   - ë°ì´í„°ì˜ í˜•ì‹ê³¼ í˜•íƒœê°€ ì–´ë–»ê²Œ êµ¬ì„± ë ì§€ ì¡ì•„ì£¼ëŠ”ê±°, í…Œì´í„°ì˜ í˜•ì‹ì„ ì •ì˜
// const videoSchema = new mongoose.Schema({
//   title: String,
//   description: String,
//   createdAt: Date,
//   hashtags: [{ type : String}],
//   meta: {
//     views :Number,
//     rating :Number,
//   },
// })
//   - model ì´ë¦„ê³¼, í…Œì´í„°ì˜ í˜•íƒœì¸ schemaë¥¼ ì„¤ì •
// const Video = mongoose.model("Video", videoSchema);
// * String.split() ---> split() ë‹¨ì–´ë¥¼ ì§€ì •ëœê²ƒìœ¼ë¡œ ì§€ì •í• ì‹œ ë‹¨ì–´ ë³„ë¡œ ë°°ì—´ì„ ë§Œë“¤ì–´ ë‚¸ë‹¤.
// ex) genres.split(",") ì¼ì‹œì— , ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‹¨ì–´ë¥¼ ëŠì–´ ë°°ì—´ë¡œ ì§€ì •í•¨.

// # 6.11 ~ 12
// --- Mongoose 6.0 ë²„ì „ ì´ìƒì—ì„œëŠ” Model.find() í•¨ìˆ˜ê°€ ë” ì´ìƒ ì½œë°± í•¨ìˆ˜ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ---
//  database ëŠ” javascript ë°–ì— ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ê°€ì§€ ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆì–´, ê¸°ë‹¤ë¦¼ì´ í•„ìš”í•¨
//  * mongooseì˜ modelì— find()ëŠ” ë‘ê°€ì§€ ì‚¬ìš© ë°©ì‹ì´ ìˆë‹¤.
//      - callback í•¨ìˆ˜, promise
//  * callback --> ë¬´ì–¸ê°€ê°€ ë°œìƒí•˜ê³  ë‚œ ë‹¤ìŒ í˜¸ì¶œ ë˜ëŠ” function
//  ex) app.listen(PORT, handleListening); --> PORT ë³€ìˆ˜ê°€ ì‹¤í–‰ë˜ê³ , handleListening í•¨ìˆ˜ í˜¸ì¶œ
//  * find(); --> mongooseì—ì„œ ê²€ìƒ‰ í•¨ìˆ˜
//    - find({},) --> {} ì¤‘ê´„íšŒì•ˆì— ê°’ì´ ë¹„ì–´ ìˆìœ¼ë©´ ëª¨ë“  í˜•ì‹ì„ ì°¾ëŠ”ë‹¤ëŠ” ëœ»
//    - find({},(err,document) => {}) --> (err,document) err,documentë¥¼ ìˆ˜ì‹ í•˜ëŠ” functionì´ ìƒê¸°ëŠ”ë° ì•ˆì— ê°’ì€
//      ì´ë¦„ì€ ë°”ê¿”ë„ ìƒê´€ ì—†ìŒ > (error,videos)
//    ex) 
//    const ì´ë²¤íŠ¸ í•¨ìˆ˜ëª… = { consol.log(error), console.log(document) }
//    * find({},(err,document) => {}) = find({}, ì´ë²¤íŠ¸ í•¨ìˆ˜ëª…) ë‘ê°œëŠ” ê°™ë‹¤
//    req,res ë³´ë‹¤ ëŠ¦ê²Œ ì‹¤í–‰ ë¨                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       

// # 6.13
// * promise --> callback í•¨ìˆ˜ì™€ ë‹¤ë¥´ê²Œ ì‹¤í–‰ ìˆœì„œì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.
// * async, await
// try ì‹¤í–‰ ì˜¤ë¥˜ ì‹œì— --> catch ì‹¤í–‰
// } catch(error) {
    return res.render("server-error", {error})
   } -->  ì²˜ëŸ¼ error ë©”ì„¸ì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆìŒ.

// callback function ì˜ ì¥ì ì€ ì—ëŸ¬ë“¤ì„ ë°”ë¡œ ë³¼ ìˆ˜ ìˆë‹¤ëŠ”ê²ƒ
// í•˜ì§€ë§Œ jsì˜ ë‹¨ì ì€ ê¸°ë‹¤ë¦¬ëŠ” ê¸°ëŠ¥ì´ ì—†ì–´ì„œ ì•„ë¬´ë¦¬ ìœ„ì—ì„œ ì•„ë˜ë¡œ ì½ì–´ë„ databaseì—ì„œ ë¶ˆëŸ¬ì˜¤ëŠ” ì‹œê°„ì´ ìˆì–´ì„œ ìˆœì„œê°€ ê¼¬ì¸ë‹¤ ê·¸ë˜ì„œ callback functionì„ ì¼ì—ˆë‹¤.
// í•˜ì§€ë§Œ await,asyncê°€ ìƒê¸°ë©´ì„œ ë‹¬ë¼ì¡Œë‹¤!!

// * awaitëŠ” databaseì—ê²Œ ê²°ê³¼ê°’ì„ ë°›ì„ë•Œê¹Œì§€ jsê°€ ê¸°ë‹¤ë¦¬ê²Œ í•´ì¤„ ìˆ˜ ìˆë‹¤..!!
// * await,asyncì˜ ì¥ì ì€ ë§¤ìš° ì§ê´€ì ì´ë¼ëŠ”ê²ƒ ì¦‰ js ê°€ ì–´ë””ì„œ ì–´ë–»ê²Œ ê¸°ë‹¤ë¦¬ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤
// * awaitëŠ” ê·œì¹™ìƒ functionì´ async ìƒíƒœì¼ë•Œë§Œ ì•ˆì—ì„œ ì‚¬ìš© ê°€ëŠ¥!
// í•˜ì§€ë§Œ callback functionê³¼ ë‹¬ë¦¬ promiseë°©ì‹ì€ error ê°€ ì–´ë””ì„œ ì˜¤ëŠ”ì§€ ëª…í™•í•˜ì§€ê°€ ì•Šë‹¤
// ê·¸ë˜ì„œ try catch ë°©ë²•ì„ ì“´ë‹¤
// ë§ê·¸ëŒ€ë¡œ try ì•ˆì— ìˆëŠ” ì½”ë“œë¥¼ ì‹¤í–‰í•´ë³´ê³  ì˜¤ë¥˜ê°€ ìƒê¸°ë©´ catch ì•ˆì— ì½”ë“œê°€ ì‹¤í–‰ë˜ëŠ”êµ¬ì¡°

// í•µì‹¬ ì½”ë“œ
// video.find({}, (error, videos) => {
//  if(error){
//    return res.render("server-error")
//  }
//    return res.render("home")
// });

// ===same thing

** promise **
// export const home = async (req, res) => {
//  try {
//    const videos = await video.find({});
//    return res.render("home", { pageTitle: "Home", videos });
//  } catch {
//    return res.render("server-error");
//  }
// };

// # 6.14
// 1. returnì˜ ì—­í•  : ë³¸ì§ˆì ì¸ returnì˜ ì—­í• ë³´ë‹¤ëŠ” functionì„ ë§ˆë¬´ë¦¬ì§“ëŠ” ì—­í• ë¡œ ì‚¬ìš©ë˜ê³  ìˆìŒ.
//  - ì´ëŸ¬í•œ ê²½ìš° returnì´ ì—†ì–´ë„ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ë§Œ ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ returnì„ ì‚¬ìš©
// 2. renderí•œ ê²ƒì€ ë‹¤ì‹œ renderí•  ìˆ˜ ì—†ìŒ
//  - redirect(), sendStatus(), end() ë“±ë“± í¬í•¨ (expressì—ì„œ ì˜¤ë¥˜ ë°œìƒ)



// ------------------------------- //#6 MONGODB AND MONGOOSE -------------------------------




// ------------------------------- #7 USER AUTHENTICATION -------------------------------





// ------------------------------- //#7 USER AUTHENTICATION -------------------------------




// ------------------------------- #8 USER PROFILE -------------------------------





// ------------------------------- //#8 USER PROFILE -------------------------------




// ------------------------------- #9 WEBPACK -------------------------------





// ------------------------------- //#9 WEBPACK -------------------------------




// ------------------------------- #10 STYLES -------------------------------





// ------------------------------- //#10 STYLES -------------------------------




// ------------------------------- #11 VIDEO PLAYER -------------------------------





// ------------------------------- //#11 VIDEO PLAYER -------------------------------




// ------------------------------- #12 VIEWS API -------------------------------





// ------------------------------- //#12 VIEWS API -------------------------------




// ------------------------------- #13 VIDEO RECORDER -------------------------------





// ------------------------------- //#13 VIDEO RECORDER -------------------------------




// ----------------------------- #14 WEBASSEMBLY VIDEO TRANSCODE -----------------------------





// ----------------------------- //#14 WEBASSEMBLY VIDEO TRANSCODE ---------------------------




// ------------------------------- #15 FLASH MESSAGES -------------------------------





// ------------------------------- //#15 FLASH MESSAGES -------------------------------




// ------------------------------- #16 COMMENT SECTION -------------------------------





// ------------------------------- //#16 COMMENT SECTION -------------------------------




// -------------------------- #17 [ğŸ”¥ 2024 UPDATE ğŸ”¥] DEPLOYMENT --------------------------





// -------------------------- //#17 [ğŸ”¥ 2024 UPDATE ğŸ”¥] DEPLOYMENT ------------------------



// -------------------------- #18 [2020 VERSION] DEPLOYMENT --------------------------





// -------------------------- //#18 [2020 VERSION] DEPLOYMENT ------------------------




// ------------------------------- //Youtube-clone-project -------------------------------

*/